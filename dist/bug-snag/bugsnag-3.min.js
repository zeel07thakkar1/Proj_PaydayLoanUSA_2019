!function(e,t){function n(e,t){return e&&t&&e.type===t.type&&e.name===t.name&&c(e.metaData,t.metaData)}function r(e){try{if("function"!=typeof e)return e;if(!e.bugsnag){var t=o();e.bugsnag=function(){if(k=t,!j){var n=e.apply(this,arguments);return k=null,n}try{return e.apply(this,arguments)}catch(e){if(h("autoNotify",!0)){var r={};i(r),S({name:e.name,message:e.message,stacktrace:w(e)||E(),file:e.fileName||e.sourceURL,lineNumber:e.lineNumber||e.line,columnNumber:e.columnNumber?e.columnNumber+1:void 0},r,{originalSeverity:"error",unhandled:!0,severityReason:{type:"unhandledException"}}),R()}throw e}finally{k=null}},e.bugsnag.bugsnag=e.bugsnag}return e.bugsnag}catch(t){return e}}function a(){q=!1}function o(){var e=document.currentScript||k;if(!e&&q){var t=document.scripts||document.getElementsByTagName("script");e=t[t.length-1]}return e}function i(e){var t=o();t&&(e.script={src:t.src,content:h("inlineScript",!0)?t.innerHTML:""})}function u(e,t,n){var r=e[t];e[t]=function(){n.apply(this,arguments),"function"==typeof r&&r.apply(this,arguments)}}function s(t){var n=h("disableLog"),r=e.console;void 0===r||void 0===r.log||n||r.log("[Bugsnag] "+t)}function c(e,t){return g(e)===g(t)}function l(e){var t=e.textContent||e.innerText||"";return"submit"!==e.type&&"button"!==e.type||(t=e.value),t=t.replace(/^\s+|\s+$/g,""),m(t,140)}function d(e){var t=[e.tagName];if(e.id&&t.push("#"+e.id),e.className&&e.className.length){var n="."+e.className.split(" ").join(".");t.push(n)}var r=t.join("");if(!document.querySelectorAll||!Array.prototype.indexOf)return r;try{if(1===document.querySelectorAll(r).length)return r}catch(e){return r}if(e.parentNode.childNodes.length>1){var a=Array.prototype.indexOf.call(e.parentNode.childNodes,e)+1;r=r+":nth-child("+a+")"}return 1===document.querySelectorAll(r).length?r:e.parentNode?d(e.parentNode)+" > "+r:r}function m(e,t){return e&&e.length>t?e.slice(0,t-"(...)".length)+"(...)":e}function f(e){return"[object Array]"===Object.prototype.toString.call(e)}function p(e,t,n){var r=(n||0)+1;if(n>h("maxDepth",D))return"[RECURSIVE]";if("string"==typeof e)return m(e,t);if(f(e)){for(var a=[],o=0;o<e.length;o++)a[o]=p(e[o],t,r);return a}if("object"==typeof e&&null!=e){var i={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(i[u]=p(e[u],t,r));return i}return e}function g(t,n,r){if(r>=h("maxDepth",D))return encodeURIComponent(n)+"=[RECURSIVE]";r=r+1||1;try{if(e.Node&&t instanceof e.Node)return encodeURIComponent(n)+"="+encodeURIComponent(C(t));var a=[];for(var o in t)if((!t.hasOwnProperty||t.hasOwnProperty(o))&&null!=o&&null!=t[o]){var i=n?n+"["+o+"]":o,u=t[o];a.push("object"==typeof u?g(u,i,r):encodeURIComponent(i)+"="+encodeURIComponent(u))}return a.sort().join("&")}catch(e){return encodeURIComponent(n)+"="+encodeURIComponent(""+e)}}function v(e,t,n){if(null==t)return e;if(n>=h("maxDepth",D))return"[RECURSIVE]";e=e||{};for(var r in t)if(t.hasOwnProperty(r))try{t[r].constructor===Object?e[r]=v(e[r],t[r],n+1||1):e[r]=t[r]}catch(n){e[r]=t[r]}return e}function y(e,t){if(e+="?"+g(t)+"&ct=img&cb="+(new Date).getTime(),"undefined"!=typeof BUGSNAG_TESTING&&T.testRequest)T.testRequest(e,t);else{if("xhr"===h("notifyHandler")){var n=new XMLHttpRequest;n.open("GET",e,!0),n.send()}else{(new Image).src=e}}}function b(e){var t={},n=/^data\-([\w\-]+)$/;if(e)for(var r=e.attributes,a=0;a<r.length;a++){var o=r[a];if(n.test(o.nodeName)){var i=o.nodeName.match(n)[1];t[i]=o.value||o.nodeValue}}return t}function h(e,t){W=W||b(H);var n=void 0!==T[e]?T[e]:W[e.toLowerCase()];return"false"===n&&(n=!1),"notifyReleaseStages"===e&&"string"==typeof n&&(n=n.split(/\s*,\s*/)),void 0!==n?n:t}function N(e){return!(!e||!e.match(M))||(s("Invalid API key '"+e+"'"),!1)}function B(e){return h(e,h("autoBreadcrumbs",!0))}function S(t,n,r){var a=h("apiKey");if(N(a)&&I){I-=1;var o=h("releaseStage","production"),i=h("notifyReleaseStages");if(i){for(var u=!1,c=0;c<i.length;c++)if(o===i[c]){u=!0;break}if(!u)return}var l=[t.name,t.message,t.stacktrace].join("|");if(l!==L){L=l;var d={device:{time:(new Date).getTime()}},m={notifierVersion:_,apiKey:a,projectRoot:h("projectRoot")||e.location.protocol+"//"+e.location.host,context:h("context")||e.location.pathname,user:h("user"),metaData:v(v(d,h("metaData")),n),releaseStage:o,appVersion:h("appVersion"),url:e.location.href,userAgent:navigator.userAgent,language:navigator.language||navigator.userLanguage,severity:t.severity,name:t.name,message:t.message,stacktrace:t.stacktrace,file:t.file,lineNumber:t.lineNumber,columnNumber:t.columnNumber,breadcrumbs:x,payloadVersion:"3"},f=t.severity,p=f&&f!==r.originalSeverity;p&&(m.severity=new String(p),m.severity.__userSpecifiedSeverity=!0);var g=T.beforeNotify;if("function"==typeof g){if(!1===g(m,m.metaData))return}var b=m.severity;if(b&&!b.__userSpecifiedSeverity&&b!==r.originalSeverity?(m.severity=b,m.severityReason={type:"userCallbackSetSeverity"}):p?(m.severity=f,m.severityReason={type:"userSpecifiedSeverity"}):(m.severity=r.originalSeverity,m.severityReason=r.severityReason),m.unhandled=r.unhandled,0===m.lineNumber&&/Script error\.?/.test(m.message))return s("Ignoring cross-domain or eval script error. See https://docs.bugsnag.com/platforms/browsers/faq/#3-cross-origin-script-errors");y(h("endpoint")||P,m)}}}function E(){var e,t;try{throw new Error("")}catch(n){e="<generated>\n",t=w(n)}if(!t){e="<generated-ie>\n";var n=[];try{for(var r=arguments.callee.caller.caller;r&&n.length<10;){var a=G.test(r.toString())?RegExp.$1||"[anonymous]":"[anonymous]";n.push(a),r=r.caller}}catch(e){s(e)}t=n.join("\n")}return e+t}function w(e){return e.stack||e.backtrace||e.stacktrace}function C(e){if(e){var t=e.attributes;if(t){for(var n="<"+e.nodeName.toLowerCase(),r=0;r<t.length;r++)t[r].value&&"null"!==t[r].value.toString()&&(n+=" "+t[r].name+'="'+t[r].value+'"');return n+">"}return e.nodeName}}function R(){U+=1,e.setTimeout(function(){U-=1})}function A(t,n,r){var a=t[n],o=r(a);t[n]=o,"undefined"!=typeof BUGSNAG_TESTING&&e.undo&&e.undo.push(function(){t[n]=a})}var k,L,T={},j=!0,U=0,x=[],I=10,D=5;T.breadcrumbLimit=20,T.noConflict=function(){return e.Bugsnag=t,void 0===t&&delete e.Bugsnag,T},T.refresh=function(){I=10},T.notifyException=function(e,t,n,r){if(!e){var a="Bugsnag.notifyException() was called with no arguments";return s(a),void T.notify("BugsnagNotify",a)}if("string"==typeof e)return s("Bugsnag.notifyException() was called with a string. Expected instance of Error. To send a custom message instantiate a new Error or use Bugsnag.notify('<string>'). see https://docs.bugsnag.com/platforms/browsers/#reporting-handled-exceptions"),void T.notify.apply(null,arguments);t&&"string"!=typeof t&&(n=t,t=void 0),n||(n={}),i(n),S({name:t||e.name,message:e.message||e.description,stacktrace:w(e)||E(),file:e.fileName||e.sourceURL,lineNumber:e.lineNumber||e.line,columnNumber:e.columnNumber?e.columnNumber+1:void 0,severity:r},n,{originalSeverity:"warning",unhandled:!1,severityReason:{type:"handledException"}})},T.notify=function(t,n,r,a){t||(t="BugsnagNotify",n="Bugsnag.notify() was called with no arguments",s(n)),S({name:t,message:n,stacktrace:E(),file:e.location.toString(),lineNumber:1,severity:a},r,{originalSeverity:"warning",unhandled:!1,severityReason:{type:"handledError"}})},T.leaveBreadcrumb=function(e,t){var r={type:"manual",name:"Manual",timestamp:(new Date).getTime()};switch(typeof e){case"object":r=v(r,e);break;case"string":t&&"object"==typeof t?r=v(r,{name:e,metaData:t}):r.metaData={message:e};break;default:return void s("expecting 1st argument to leaveBreadcrumb to be a 'string' or 'object', got "+typeof e)}for(var a=["manual","error","log","navigation","process","request","state","user"],o=!1,i=0;i<a.length;i++)if(a[i]===r.type){o=!0;break}o||(s("Converted invalid breadcrumb type '"+r.type+"' to 'manual'"),r.type="manual");var u=x.slice(-1)[0];if(n(r,u))u.count=u.count||1,u.count++;else{var c=Math.min(T.breadcrumbLimit,40);r.name=m(r.name,32),x.push(p(r,140)),x.length>c&&(x=x.slice(-c))}};var O=void 0!==e.addEventListener;T.enableAutoBreadcrumbsConsole=function(){},T.disableAutoBreadcrumbsConsole=function(){},T.enableAutoBreadcrumbsNavigation=function(){},T.disableAutoBreadcrumbsNavigation=function(){},T.enableAutoBreadcrumbsErrors=function(){T.autoBreadcrumbsErrors=!0},T.disableAutoBreadcrumbsErrors=function(){T.autoBreadcrumbsErrors=!1},T.enableAutoBreadcrumbsClicks=function(){T.autoBreadcrumbsClicks=!0},T.disableAutoBreadcrumbsClicks=function(){T.autoBreadcrumbsClicks=!1},T.enableAutoBreadcrumbs=function(){T.enableAutoBreadcrumbsClicks(),T.enableAutoBreadcrumbsConsole(),T.enableAutoBreadcrumbsErrors(),T.enableAutoBreadcrumbsNavigation()},T.disableAutoBreadcrumbs=function(){T.disableAutoBreadcrumbsClicks(),T.disableAutoBreadcrumbsConsole(),T.disableAutoBreadcrumbsErrors(),T.disableAutoBreadcrumbsNavigation()},T.enableNotifyUnhandledRejections=function(){T.notifyUnhandledRejections=!0},T.disableNotifyUnhandledRejections=function(){T.notifyUnhandledRejections=!1};var q="complete"!==document.readyState;document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!0),e.addEventListener("load",a,!0)):e.attachEvent("onload",a);var M=/^[0-9a-f]{32}$/i,G=/function\s*([\w\-$]+)?\s*\(/i,P="https://notify.bugsnag.com/js",_="3.3.2",V=document.getElementsByTagName("script"),H=V[V.length-1];T._serialize=g;var W;if(e.atob){if(e.ErrorEvent)try{0===new e.ErrorEvent("test").colno&&(j=!1)}catch(e){}}else j=!1;if(h("autoNotify",!0)){A(e,"onerror",function(t){return"undefined"!=typeof BUGSNAG_TESTING&&(T._onerror=t),function(n,r,a,o,u){var s=h("autoNotify",!0),c={};if(!o&&e.event&&(o=e.event.errorCharacter),i(c),k=null,s&&!U){var l,d;1===arguments.length?(l=n&&n.type?"Event: "+n.type:"window.onerror",d=n&&n.detail?n.detail:void 0,c.event=n):(l=u&&u.name||"window.onerror",d=n),S({name:l,message:d,file:r,lineNumber:a,columnNumber:o,stacktrace:u&&w(u)||E()},c,{originalSeverity:"error",unhandled:!0,severityReason:{type:"unhandledException"}}),B("autoBreadcrumbsErrors")&&T.leaveBreadcrumb({type:"error",name:l,metaData:{severity:"error",file:r,message:d,line:a}})}"undefined"!=typeof BUGSNAG_TESTING&&(t=T._onerror),t&&t(n,r,a,o,u)}});var $=function(e){return function(t,n){if("function"==typeof t){t=r(t);var a=Array.prototype.slice.call(arguments,2);return e(function(){t.apply(this,a)},n)}return e(t,n)}};A(e,"setTimeout",$),A(e,"setInterval",$),e.requestAnimationFrame&&A(e,"requestAnimationFrame",function(e){return function(t){return e(r(t))}}),e.setImmediate&&A(e,"setImmediate",function(e){return function(){var t=Array.prototype.slice.call(arguments);return t[0]=r(t[0]),e.apply(this,t)}}),"onunhandledrejection"in e&&e.addEventListener("unhandledrejection",function(e){if(h("notifyUnhandledRejections",!1)){var t=e.reason;t||(t={});var n={};i(n),t.message||(n.promiseRejectionValue=t),S({name:t.name?t.name:"UnhandledRejection",message:t.message?t.message:"",stacktrace:w(t)||E(),file:t.fileName||t.sourceURL,lineNumber:t.lineNumber||t.line,columnNumber:t.columnNumber?t.columnNumber+1:void 0},n,{originalSeverity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}})}}),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(t){var n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(A(n,"addEventListener",function(e){return function(t,n,a,o){try{n&&n.handleEvent&&(n.handleEvent=r(n.handleEvent))}catch(e){s(e)}return e.call(this,t,r(n),a,o)}}),A(n,"removeEventListener",function(e){return function(t,n,a,o){return e.call(this,t,n,a,o),e.call(this,t,r(n),a,o)}}))})}!function(){if(O){var t=function(e){if(B("autoBreadcrumbsClicks")){var t,n;try{t=l(e.target),n=d(e.target)}catch(e){t="[hidden]",n="[hidden]",s("Cross domain error when tracking click event. See https://docs.bugsnag.com/platforms/browsers/faq/#3-cross-origin-script-errors")}T.leaveBreadcrumb({type:"user",name:"UI click",metaData:{targetText:t,targetSelector:n}})}};e.addEventListener("click",t,!0)}}(),function(){function t(e,t){B("autoBreadcrumbsConsole")&&T.leaveBreadcrumb({type:"log",name:"Console output",metaData:{severity:e,message:Array.prototype.slice.call(t).join(", ")}})}if(void 0!==e.console){var n=console.log,r=console.warn,a=console.error,o=console.group,i=console.groupCollapsed;T.enableAutoBreadcrumbsConsole=function(){T.autoBreadcrumbsConsole=!0,u(console,"log",function(){t("log",arguments)}),u(console,"warn",function(){t("warn",arguments)}),u(console,"error",function(){t("error",arguments)}),u(console,"group",function(){t("log",["[group]"].concat(Array.prototype.slice.call(arguments)))}),u(console,"groupCollapsed",function(){t("log",["[group]"].concat(Array.prototype.slice.call(arguments)))})},T.disableAutoBreadcrumbsConsole=function(){T.autoBreadcrumbsConsole=!1,console.log=n,console.warn=r,console.error=a,console.group=o,console.groupCollapsed=i},B("autoBreadcrumbsConsole")&&T.enableAutoBreadcrumbsConsole()}}(),function(){function t(e){return e.split("#")[1]||""}function n(e){var n=e.oldURL,r=e.newURL,a={};return n&&r?(a.from=t(n),a.to=t(r)):a.to=location.hash,{type:"navigation",name:"Hash changed",metaData:a}}function r(){return{type:"navigation",name:"Navigated back"}}function a(){return{type:"navigation",name:"Page hidden"}}function o(){return{type:"navigation",name:"Page shown"}}function i(){return{type:"navigation",name:"Page loaded"}}function s(){return{type:"navigation",name:"DOMContentLoaded"}}function c(e,t,n,r){var a=location.pathname+location.search+location.hash;return{type:"navigation",name:"History "+e,metaData:{from:a,to:r||a,prevState:history.state,nextState:t}}}function l(e,t,n){return c("pushState",e,t,n)}function d(e,t,n){return c("replaceState",e,t,n)}function m(e){return function(){B("autoBreadcrumbsNavigation")&&T.leaveBreadcrumb(e.apply(null,arguments))}}if(O&&e.history&&e.history.state&&e.history.pushState&&e.history.pushState.bind){var f=history.pushState,p=history.replaceState;T.enableAutoBreadcrumbsNavigation=function(){T.autoBreadcrumbsNavigation=!0,u(history,"pushState",m(l)),u(history,"replaceState",m(d))},T.disableAutoBreadcrumbsNavigation=function(){T.autoBreadcrumbsNavigation=!1,history.pushState=f,history.replaceState=p},e.addEventListener("hashchange",m(n),!0),e.addEventListener("popstate",m(r),!0),e.addEventListener("pagehide",m(a),!0),e.addEventListener("pageshow",m(o),!0),e.addEventListener("load",m(i),!0),e.addEventListener("DOMContentLoaded",m(s),!0),B("autoBreadcrumbsNavigation")&&T.enableAutoBreadcrumbsNavigation()}}(),h("autoBreadcrumbs",!0)&&T.leaveBreadcrumb({type:"navigation",name:"Bugsnag Loaded"}),e.Bugsnag=T,"function"==typeof define&&define.amd?define([],function(){return T}):"object"==typeof module&&"object"==typeof module.exports&&(module.exports=T)}(window,window.Bugsnag);